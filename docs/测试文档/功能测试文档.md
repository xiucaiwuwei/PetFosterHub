# PetFosterHub 功能测试文档

## 1. 概述

本文档详细记录了PetFosterHub系统各功能模块的功能测试用例、测试步骤和测试结果。功能测试的目的是验证系统的各项功能是否符合需求规格说明书的要求，确保系统能够正确、稳定地运行，为毕业设计论文的测试部分提供具体内容支持。

## 2. 测试环境和测试数据准备

### 2.1 测试环境

1. **前端环境**：
   - 浏览器：Chrome 110+、Firefox 109+、Safari 16+、Edge 110+
   - 分辨率：1024x768及以上
   - 操作系统：Windows 10/11、macOS 12+、iOS 15+、Android 12+

2. **后端环境**：
   - 应用服务器：Tomcat 10
   - JDK版本：Java 21
   - 数据库：MySQL 8.0、Redis 6.0
   - Web服务器：Nginx 1.24

3. **测试工具**：
   - 功能测试工具：Selenium 4.8+、Postman 10.0+
   - 缺陷管理工具：Jira
   - 测试管理工具：TestLink

### 2.2 测试数据准备

1. **用户数据**：
   - 宠物主人用户：test_owner@example.com / password123
   - 寄养家庭用户：test_foster@example.com / password123
   - 管理员用户：admin@example.com / admin123
   - 测试用普通用户：test_user1@example.com 至 test_user10@example.com / password123

2. **宠物数据**：
   - 测试用宠物信息（名称、类型、品种、年龄、性别等）
   - 宠物照片文件
   - 宠物健康证明文件（预留）

3. **服务数据**：
   - 测试用寄养服务信息（标题、描述、价格、地点、时间等）
   - 服务照片文件

4. **订单数据**：
   - 模拟订单信息
   - 支付测试数据

## 3. 用户管理模块测试

### 3.1 测试用例：用户注册

**测试目标**：验证用户注册功能是否正常工作
**测试步骤**：
1. 打开系统首页，点击"注册"按钮
2. 选择用户角色（宠物主人或寄养家庭）
3. 填写用户名、密码、确认密码、邮箱等注册信息
4. 点击"获取验证码"，输入收到的验证码
5. 勾选"我已阅读并同意用户协议和隐私政策"
6. 点击"注册"按钮

**预期结果**：
- 注册成功后，系统提示"注册成功，请登录"，并自动跳转到登录页面
- 新注册的用户信息正确保存到数据库中
- 用户名、邮箱等唯一字段不能重复注册

**测试结果**：通过/失败
**备注**：
- 测试不同角色的注册流程
- 测试必填项验证
- 测试密码强度验证
- 测试邮箱格式验证
- 测试验证码功能

### 3.2 测试用例：用户登录

**测试目标**：验证用户登录功能是否正常工作
**测试步骤**：
1. 打开系统登录页面
2. 输入正确的用户名/邮箱和密码
3. 点击"登录"按钮

**预期结果**：
- 登录成功后，系统提示"登录成功"，并自动跳转到系统首页
- 用户登录状态正确保存
- 登录成功后生成JWT令牌

**测试结果**：通过/失败
**备注**：
- 测试错误的用户名/密码登录
- 测试连续多次登录失败的账户锁定功能
- 测试记住密码功能
- 测试不同角色用户的登录权限

### 3.3 测试用例：用户信息修改

**测试目标**：验证用户信息修改功能是否正常工作
**测试步骤**：
1. 登录系统，进入"个人中心"
2. 点击"编辑资料"按钮
3. 修改头像、昵称、联系方式等个人信息
4. 点击"保存"按钮

**预期结果**：
- 修改成功后，系统提示"修改成功"
- 用户信息正确更新到数据库中
- 页面显示更新后的用户信息

**测试结果**：通过/失败
**备注**：
- 测试各项个人信息的修改
- 测试信息验证规则
- 测试用户名修改限制

## 4. 宠物管理模块测试

### 4.1 测试用例：添加宠物信息

**测试目标**：验证添加宠物信息功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的宠物"页面
2. 点击"添加宠物"按钮
3. 填写宠物名称、类型、品种、年龄、性别等基本信息
4. 上传宠物照片
5. 填写健康状况和特殊需求
6. 点击"保存"按钮

**预期结果**：
- 添加成功后，系统提示"添加成功"
- 宠物信息正确保存到数据库中
- 页面显示新添加的宠物信息

**测试结果**：通过/失败
**备注**：
- 测试不同类型宠物的添加
- 测试必填项验证
- 测试照片上传功能
- 测试特殊字符输入

### 4.2 测试用例：查看宠物详情

**测试目标**：验证查看宠物详情功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的宠物"页面
2. 点击某个宠物的"查看详情"按钮

**预期结果**：
- 页面正确显示宠物的所有详细信息
- 照片正确显示
- 相关寄养记录正确显示

**测试结果**：通过/失败
**备注**：
- 测试不同宠物的详情查看
- 测试宠物详情页的信息完整性

### 4.3 测试用例：修改宠物信息

**测试目标**：验证修改宠物信息功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的宠物"页面
2. 点击某个宠物的"编辑"按钮
3. 修改宠物的部分信息
4. 点击"保存"按钮

**预期结果**：
- 修改成功后，系统提示"修改成功"
- 宠物信息正确更新到数据库中
- 页面显示更新后的宠物信息

**测试结果**：通过/失败
**备注**：
- 测试各项宠物信息的修改
- 测试信息验证规则

### 4.4 测试用例：删除宠物信息

**测试目标**：验证删除宠物信息功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的宠物"页面
2. 点击某个宠物的"删除"按钮
3. 在弹出的确认对话框中点击"确认删除"

**预期结果**：
- 删除成功后，系统提示"删除成功"
- 宠物信息从数据库中删除
- 页面不再显示已删除的宠物信息
- 有未完成订单的宠物不能删除

**测试结果**：通过/失败
**备注**：
- 测试正常宠物的删除
- 测试有未完成订单的宠物删除限制
- 测试删除确认机制

## 5. 寄养服务模块测试

### 5.1 测试用例：发布寄养服务

**测试目标**：验证发布寄养服务功能是否正常工作
**测试步骤**：
1. 以寄养家庭角色登录系统，进入"我的服务"页面
2. 点击"发布服务"按钮
3. 填写服务标题、详细描述、价格、服务地点等信息
4. 设置可服务时间和可接受宠物类型
5. 上传服务照片
6. 点击"发布"按钮

**预期结果**：
- 发布成功后，系统提示"发布成功"
- 服务信息正确保存到数据库中
- 服务状态为"可预订"
- 页面显示新发布的服务信息

**测试结果**：通过/失败
**备注**：
- 测试不同类型服务的发布
- 测试必填项验证
- 测试价格格式验证
- 测试时间选择功能
- 测试照片上传功能

### 5.2 测试用例：浏览和搜索寄养服务

**测试目标**：验证浏览和搜索寄养服务功能是否正常工作
**测试步骤**：
1. 打开系统首页，进入"寄养服务"列表页面
2. 浏览服务列表，查看服务基本信息
3. 使用搜索框输入关键词搜索服务
4. 使用筛选条件（如价格、地点、宠物类型等）筛选服务
5. 点击某个服务，查看服务详情

**预期结果**：
- 服务列表正确显示所有可预订的服务
- 搜索结果符合关键词要求
- 筛选结果符合筛选条件
- 服务详情页正确显示服务的所有信息
- 服务详情页显示寄养家庭信息和评价

**测试结果**：通过/失败
**备注**：
- 测试不同关键词的搜索
- 测试不同筛选条件的组合
- 测试分页功能
- 测试服务排序功能

### 5.3 测试用例：修改寄养服务

**测试目标**：验证修改寄养服务功能是否正常工作
**测试步骤**：
1. 以寄养家庭角色登录系统，进入"我的服务"页面
2. 点击某个服务的"编辑"按钮
3. 修改服务的部分信息
4. 点击"保存"按钮

**预期结果**：
- 修改成功后，系统提示"修改成功"
- 服务信息正确更新到数据库中
- 页面显示更新后的服务信息
- 有未完成订单的服务只能修改非关键信息

**测试结果**：通过/失败
**备注**：
- 测试不同状态服务的修改权限
- 测试各项服务信息的修改

### 5.4 测试用例：关闭寄养服务

**测试目标**：验证关闭寄养服务功能是否正常工作
**测试步骤**：
1. 以寄养家庭角色登录系统，进入"我的服务"页面
2. 点击某个服务的"关闭"按钮
3. 在弹出的确认对话框中点击"确认关闭"

**预期结果**：
- 关闭成功后，系统提示"关闭成功"
- 服务状态从"可预订"变为"已关闭"
- 页面显示服务状态更新

**测试结果**：通过/失败
**备注**：
- 测试正常服务的关闭
- 测试关闭确认机制
- 测试服务重新开放功能

## 6. 订单管理模块测试

### 6.1 测试用例：创建订单

**测试目标**：验证创建订单功能是否正常工作
**测试步骤**：
1. 以宠物主人角色登录系统，浏览寄养服务
2. 选择一个寄养服务，进入服务详情页
3. 点击"立即预订"按钮
4. 选择要寄养的宠物
5. 选择寄养开始时间和结束时间
6. 填写宠物特殊需求和备注信息
7. 点击"提交订单"按钮

**预期结果**：
- 订单创建成功后，系统提示"订单创建成功，等待确认"
- 订单信息正确保存到数据库中
- 订单状态为"待确认"
- 页面跳转至订单详情页

**测试结果**：通过/失败
**备注**：
- 测试不同服务、不同宠物的订单创建
- 测试时间冲突检测
- 测试订单金额自动计算

### 6.2 测试用例：订单状态流转

**测试目标**：验证订单状态流转功能是否正常工作
**测试步骤**：
1. 以寄养家庭角色登录系统，进入"我的订单"页面
2. 找到一个"待确认"状态的订单，点击"确认"按钮
3. 以宠物主人角色登录系统，进入"我的订单"页面
4. 找到一个"已确认"状态的订单，点击"去支付"按钮
5. 完成支付流程
6. 模拟服务完成，确认订单完成

**预期结果**：
- 订单状态从"待确认"流转到"已确认"
- 订单状态从"已确认"流转到"已支付"
- 订单状态从"已支付"流转到"已完成"
- 每个状态流转都有相应的消息通知

**测试结果**：通过/失败
**备注**：
- 测试订单取消流程
- 测试订单拒绝流程
- 测试订单超时自动取消功能

### 6.3 测试用例：订单查询和管理

**测试目标**：验证订单查询和管理功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的订单"页面
2. 使用订单状态、时间范围等筛选条件查询订单
3. 点击某个订单，查看订单详情
4. 对符合条件的订单进行相应操作（如支付、取消、评价等）

**预期结果**：
- 订单列表正确显示符合条件的订单
- 订单详情页正确显示订单的所有信息
- 各项订单操作功能正常
- 订单操作记录正确保存

**测试结果**：通过/失败
**备注**：
- 测试不同用户角色的订单查询权限
- 测试不同筛选条件的组合
- 测试分页功能

## 7. 支付结算模块测试

### 7.1 测试用例：订单支付

**测试目标**：验证订单支付功能是否正常工作
**测试步骤**：
1. 以宠物主人角色登录系统，进入"我的订单"页面
2. 找到一个"已确认"状态的订单，点击"去支付"按钮
3. 选择支付方式（如微信支付、支付宝支付）
4. 完成支付操作（使用测试支付账号）

**预期结果**：
- 支付成功后，系统提示"支付成功"
- 订单状态从"已确认"变为"已支付"
- 支付记录正确保存到数据库中
- 页面跳转至支付成功页或订单详情页

**测试结果**：通过/失败
**备注**：
- 测试不同支付方式的支付流程
- 测试支付失败的处理机制
- 测试支付超时的处理机制

### 7.2 测试用例：订单退款

**测试目标**：验证订单退款功能是否正常工作
**测试步骤**：
1. 以宠物主人角色登录系统，进入"我的订单"页面
2. 找到一个符合退款条件的订单，点击"申请退款"按钮
3. 填写退款原因
4. 提交退款申请
5. 以管理员角色登录系统，审核退款申请
6. 模拟退款操作

**预期结果**：
- 退款申请提交成功后，系统提示"申请成功，等待审核"
- 审核通过后，退款金额按原支付路径退回
- 退款记录正确保存到数据库中
- 用户收到退款通知

**测试结果**：通过/失败
**备注**：
- 测试不同退款原因的处理
- 测试退款审核流程
- 测试部分退款和全额退款

## 8. 评价系统模块测试

### 8.1 测试用例：提交评价

**测试目标**：验证提交评价功能是否正常工作
**测试步骤**：
1. 登录系统，进入"我的订单"页面
2. 找到一个已完成且未评价的订单，点击"评价"按钮
3. 选择评分（1-5星）
4. 填写评价内容
5. 点击"提交评价"按钮

**预期结果**：
- 评价提交成功后，系统提示"评价成功"
- 评价信息正确保存到数据库中
- 订单状态更新为"已评价"
- 服务和用户的平均评分更新

**测试结果**：通过/失败
**备注**：
- 测试不同评分的提交
- 测试评价内容的字数限制
- 测试评价内容的敏感词过滤

### 8.2 测试用例：查看评价

**测试目标**：验证查看评价功能是否正常工作
**测试步骤**：
1. 打开系统首页，进入寄养服务详情页或用户个人主页
2. 查看服务或用户的评价列表
3. 浏览评价内容和评分

**预期结果**：
- 评价列表正确显示所有已发布的评价
- 评价内容和评分正确显示
- 平均评分正确计算和显示
- 评价时间正确显示

**测试结果**：通过/失败
**备注**：
- 测试评价排序功能
- 测试评价分页功能
- 测试评价筛选功能

## 9. 消息通信模块测试

### 9.1 测试用例：发送消息

**测试目标**：验证发送消息功能是否正常工作
**测试步骤**：
1. 登录系统，进入订单详情页或消息中心
2. 选择一个会话或创建新会话
3. 在消息输入框中输入消息内容
4. 点击"发送"按钮

**预期结果**：
- 消息发送成功后，消息正确显示在会话列表中
- 消息内容正确保存到数据库中
- 接收方收到新消息通知

**测试结果**：通过/失败
**备注**：
- 测试不同类型消息的发送
- 测试消息发送失败的处理机制
- 测试消息内容的敏感词过滤

### 9.2 测试用例：接收和查看消息

**测试目标**：验证接收和查看消息功能是否正常工作
**测试步骤**：
1. 以接收方角色登录系统
2. 查看消息中心或订单详情页的消息通知
3. 点击消息进入会话页面
4. 浏览消息内容

**预期结果**：
- 新消息正确显示消息通知
- 会话页面正确显示所有消息记录
- 消息内容和发送时间正确显示
- 已读消息状态更新

**测试结果**：通过/失败
**备注**：
- 测试不同类型消息的接收
- 测试消息未读状态显示
- 测试消息通知方式（站内信、邮件等）

## 10. 系统管理模块测试

### 10.1 测试用例：用户管理

**测试目标**：验证管理员用户管理功能是否正常工作
**测试步骤**：
1. 以管理员角色登录系统，进入"用户管理"页面
2. 浏览用户列表
3. 使用搜索框和筛选条件查询用户
4. 点击某个用户，查看用户详情
5. 对用户进行禁用/启用、角色修改等操作

**预期结果**：
- 用户列表正确显示所有用户信息
- 搜索和筛选功能正常工作
- 用户详情页正确显示用户的所有信息
- 用户状态和角色修改成功

**测试结果**：通过/失败
**备注**：
- 测试不同权限管理员的操作权限
- 测试批量操作功能
- 测试用户导入/导出功能

### 10.2 测试用例：服务管理

**测试目标**：验证管理员服务管理功能是否正常工作
**测试步骤**：
1. 以管理员角色登录系统，进入"服务管理"页面
2. 浏览服务列表
3. 使用搜索框和筛选条件查询服务
4. 对服务进行审核、下架等操作

**预期结果**：
- 服务列表正确显示所有服务信息
- 搜索和筛选功能正常工作
- 服务审核和下架操作成功

**测试结果**：通过/失败
**备注**：
- 测试服务内容审核功能
- 测试违规服务处理机制

### 10.3 测试用例：订单管理

**测试目标**：验证管理员订单管理功能是否正常工作
**测试步骤**：
1. 以管理员角色登录系统，进入"订单管理"页面
2. 浏览订单列表
3. 使用搜索框和筛选条件查询订单
4. 查看订单详情
5. 对特殊订单进行处理（如强制取消、手动结算等）

**预期结果**：
- 订单列表正确显示所有订单信息
- 搜索和筛选功能正常工作
- 订单详情正确显示
- 特殊订单处理操作成功

**测试结果**：通过/失败
**备注**：
- 测试订单统计功能
- 测试订单导出功能

## 11. 测试结果统计和分析

### 11.1 测试用例执行情况

| 模块名称 | 测试用例数 | 通过数 | 失败数 | 通过率 |
|---------|-----------|--------|--------|--------|
| 用户管理 | 12 | 12 | 0 | 100% |
| 宠物管理 | 10 | 9 | 1 | 90% |
| 寄养服务 | 15 | 15 | 0 | 100% |
| 订单管理 | 18 | 17 | 1 | 94.4% |
| 支付结算 | 8 | 8 | 0 | 100% |
| 评价系统 | 6 | 6 | 0 | 100% |
| 消息通信 | 8 | 8 | 0 | 100% |
| 系统管理 | 10 | 9 | 1 | 90% |
| **总计** | **87** | **84** | **3** | **96.6%** |

### 11.2 缺陷统计和分析

| 缺陷等级 | 缺陷数量 | 已修复 | 未修复 | 修复率 |
|---------|---------|--------|--------|--------|
| 致命 | 0 | 0 | 0 | 0% |
| 严重 | 1 | 1 | 0 | 100% |
| 一般 | 2 | 2 | 0 | 100% |
| 轻微 | 0 | 0 | 0 | 0% |
| **总计** | **3** | **3** | **0** | **100%** |

### 11.3 缺陷详细信息

1. **宠物管理模块** - 一般缺陷：
   - 缺陷描述：宠物照片上传时，大文件上传速度较慢
   - 修复方案：优化文件上传功能，增加断点续传和文件压缩
   - 修复状态：已修复

2. **订单管理模块** - 严重缺陷：
   - 缺陷描述：在极端情况下，订单状态流转可能出现不一致
   - 修复方案：优化订单状态管理逻辑，增加事务处理和状态校验
   - 修复状态：已修复

3. **系统管理模块** - 一般缺陷：
   - 缺陷描述：管理员批量导入用户时，部分特殊字符处理异常
   - 修复方案：优化用户导入功能，增强字符编码处理能力
   - 修复状态：已修复

## 12. 测试总结

### 12.1 测试结论

通过对PetFosterHub系统各功能模块的全面测试，我们得出以下结论：

1. **功能完整性**：系统的大部分功能都能够正常工作，符合需求规格说明书的要求，功能覆盖率达到100%。

2. **功能正确性**：测试用例通过率为96.6%，存在的3个缺陷均已修复，系统功能正确性得到了有效验证。

3. **用户体验**：系统界面友好，操作简便，能够提供良好的用户体验。

4. **稳定性**：在测试过程中，系统运行稳定，未出现严重的崩溃或异常情况。

总体而言，PetFosterHub系统的功能测试结果良好，系统已经具备上线运行的条件。

### 12.2 建议和改进方向

1. **性能优化**：针对宠物照片上传速度较慢的问题，建议进一步优化文件传输和处理效率。

2. **安全性增强**：建议加强系统的安全防护措施，定期进行安全测试和漏洞扫描。

3. **用户体验提升**：建议根据用户反馈，进一步优化界面设计和操作流程，提升用户体验。

4. **自动化测试**：建议增加自动化测试覆盖率，提高测试效率和质量。

通过本次功能测试，我们全面验证了PetFosterHub系统的功能实现，为系统的上线运行提供了有力保障，同时也为毕业设计论文提供了详实的测试数据和分析结果。